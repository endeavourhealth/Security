<?xml version="1.0" encoding="UTF-8"?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence" version="2.0">

    <persistence-unit name="UserManager">
        <provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.DelegationRelationshipEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.DelegationEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.ApplicationPolicyEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.AuditEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.AuditActionEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.ItemTypeEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.ApplicationEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.ApplicationAccessProfileEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.ApplicationPolicyAttributeEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.UserProjectEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.UserRegionEntity</class>
        <class>org.endeavourhealth.common.security.usermanagermodel.models.database.UserApplicationPolicyEntity</class>
        <properties>
            <property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/>
            <property name="hibernate.show_sql" value="false" />
            <property name="hibernate.connection.provider_class" value="org.hibernate.hikaricp.internal.HikariCPConnectionProvider"/>
            <property name="hibernate.auth" value="Container" />
            <property name="hibernate.hikari.connectionTimeout" value="300000" />
            <property name="hibernate.hikari.maximumPoolSize" value="4" />
            <property name="hibernate.hikari.minimumIdle" value="1" />
            <property name="hibernate.hikari.idleTimeout" value="60000" />
            <property name="hibernate.hikari.dataSourceClassName" value="com.mysql.cj.jdbc.MysqlDataSource" />
            <property name="hibernate.hikari.leakDetectionThreshold" value="5000" />
            <property name="hibernate.connection.autocommit" value="false" />
            <!-- NOTE: ALL THESE PROPERTIES MAY BE OVERRIDDEN BY THE CONFIG JSON -->
        </properties>
    </persistence-unit>

    <persistence-unit name="DataSharingManager">
        <provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.AddressEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.CohortEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.DataFlowEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.DataProcessingAgreementEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.DataSharingAgreementEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.DataSharingSummaryEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.DatasetEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.DocumentationEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.MasterMappingEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.OrganisationEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.PurposeEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.RegionEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.OrganisationTypeEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.DataExchangeEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.ProjectEntity</class>
        <class>org.endeavourhealth.common.security.datasharingmanagermodel.models.database.ProjectApplicationPolicyEntity</class>
        <properties>
            <property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/>
            <property name="hibernate.show_sql" value="false" />
            <property name="hibernate.connection.provider_class" value="org.hibernate.hikaricp.internal.HikariCPConnectionProvider"/>
            <property name="hibernate.auth" value="Container" />
            <property name="hibernate.hikari.connectionTimeout" value="300000" />
            <property name="hibernate.hikari.maximumPoolSize" value="4" />
            <property name="hibernate.hikari.minimumIdle" value="1" />
            <property name="hibernate.hikari.idleTimeout" value="60000" />
            <property name="hibernate.hikari.dataSourceClassName" value="com.mysql.cj.jdbc.MysqlDataSource" />
            <property name="hibernate.hikari.leakDetectionThreshold" value="5000" />
            <property name="hibernate.connection.autocommit" value="false" />
            <!-- NOTE: ALL THESE PROPERTIES MAY BE OVERRIDDEN BY THE CONFIG JSON -->
        </properties>
    </persistence-unit>
</persistence>
